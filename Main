-- Ù…ØªØºÙŠØ±Ø§Øª Ø¹Ø§Ù…Ø©
local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local TweenService = game:GetService("TweenService")
local UIS = game:GetService("UserInputService")
local LocalPlayer = Players.LocalPlayer
local Character = LocalPlayer.Character or LocalPlayer.CharacterAdded:Wait()

-- ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
local gui = Instance.new("ScreenGui", game.CoreGui)
gui.Name = "KillAuraAndHackGUI"

-- Ø´Ø§Ø´Ø© Ø§Ù„Ø¨Ø¯Ø§ÙŠØ© (Splash Screen)
local splashScreen = Instance.new("Frame")
splashScreen.Size = UDim2.new(1, 0, 1, 0)
splashScreen.BackgroundColor3 = Color3.new(0, 0, 0)
splashScreen.BackgroundTransparency = 0
splashScreen.Parent = gui

local image = Instance.new("ImageLabel")
image.Size = UDim2.new(0, 250, 0, 250)
image.Position = UDim2.new(0.5, -125, 0.2, 0)
image.BackgroundTransparency = 1
image.Image = "rbxassetid://17350758715"
image.Parent = splashScreen

local mainLabel = Instance.new("TextLabel")
mainLabel.Size = UDim2.new(1, 0, 0, 50)
mainLabel.Position = UDim2.new(0, 0, 0.45, 0)
mainLabel.BackgroundTransparency = 1
mainLabel.Text = "MiracleHub"
mainLabel.TextColor3 = Color3.new(1, 1, 1)
mainLabel.Font = Enum.Font.GothamSemibold
mainLabel.TextSize = 36
mainLabel.TextStrokeTransparency = 0.5
mainLabel.TextStrokeColor3 = Color3.new(0, 0, 0)
mainLabel.Parent = splashScreen

local subLabel = Instance.new("TextLabel")
subLabel.Size = UDim2.new(1, 0, 0, 30)
subLabel.Position = UDim2.new(0, 0, 0.52, 0)
subLabel.BackgroundTransparency = 1
subLabel.Text = "Made By: MiracleDxoma"
subLabel.TextColor3 = Color3.new(1, 1, 1)
subLabel.Font = Enum.Font.Gotham
subLabel.TextSize = 20
subLabel.TextStrokeTransparency = 0.5
subLabel.TextStrokeColor3 = Color3.new(0, 0, 0)
subLabel.Parent = splashScreen

local versionLabel = Instance.new("TextLabel")
versionLabel.Size = UDim2.new(0, 200, 0, 30)
versionLabel.Position = UDim2.new(0, 10, 1, -35)
versionLabel.BackgroundTransparency = 1
versionLabel.Text = "Version 1.3"
versionLabel.TextColor3 = Color3.new(1, 1, 1)
versionLabel.Font = Enum.Font.Gotham
versionLabel.TextSize = 18
versionLabel.TextStrokeTransparency = 0.5
versionLabel.TextStrokeColor3 = Color3.new(0, 0, 0)
versionLabel.Parent = splashScreen

-- Ø£Ù†Ù…ÙŠØ´Ù† Ø´Ø§Ø´Ø© Ø§Ù„Ø¨Ø¯Ø§ÙŠØ©
local function animateSplash()
	spawn(function()
		while splashScreen and splashScreen.Parent do
			local p = Instance.new("Frame")
			p.Size = UDim2.new(0, 5, 0, 5)
			p.Position = UDim2.new(math.random(), 0, math.random(), 0)
			p.BackgroundColor3 = Color3.new(1, 1, 1)
			p.BackgroundTransparency = 0.9
			p.BorderSizePixel = 0
			p.Parent = splashScreen
			TweenService:Create(p, TweenInfo.new(1), {BackgroundTransparency = 1}):Play()
			game.Debris:AddItem(p, 1)
			wait(0.05)
		end
	end)
end
animateSplash()

wait(3)
TweenService:Create(splashScreen, TweenInfo.new(1), {BackgroundTransparency = 1}):Play()
for _, child in pairs(splashScreen:GetChildren()) do
	if child:IsA("TextLabel") or child:IsA("ImageLabel") then
		TweenService:Create(child, TweenInfo.new(1), {TextTransparency = 1, ImageTransparency = 1}):Play()
	end
end
wait(1.5)
splashScreen:Destroy()

-- Ø¹Ø¯Ø§Ø¯ FPS
local fpsFrame = Instance.new("Frame")
fpsFrame.Size = UDim2.new(0, 100, 0, 30)
fpsFrame.Position = UDim2.new(0, 10, 1, -40)
fpsFrame.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
fpsFrame.BackgroundTransparency = 0.4
fpsFrame.BorderSizePixel = 0
fpsFrame.Parent = gui
fpsFrame.ZIndex = 10
fpsFrame.Visible = false

local fpsLabel = Instance.new("TextLabel")
fpsLabel.Size = UDim2.new(1, 0, 1, 0)
fpsLabel.BackgroundTransparency = 1
fpsLabel.Text = "FPS: 0"
fpsLabel.Font = Enum.Font.GothamBold
fpsLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
fpsLabel.TextStrokeTransparency = 0.5
fpsLabel.TextStrokeColor3 = Color3.new(0, 0, 0)
fpsLabel.TextScaled = true
fpsLabel.Parent = fpsFrame
fpsLabel.ZIndex = 11

local frameCount = 0
local elapsedTime = 0
RunService.RenderStepped:Connect(function(dt)
	frameCount = frameCount + 1
	elapsedTime = elapsedTime + dt
	if elapsedTime >= 1 then
		local fps = math.floor(frameCount / elapsedTime + 0.5)
		fpsLabel.Text = "FPS: " .. tostring(fps)
		frameCount = 0
		elapsedTime = 0
	end
end)

delay(5, function()
	fpsFrame.Visible = true
end)

-- KillAura
local killAuraButton = Instance.new("TextButton")
killAuraButton.Size = UDim2.new(0, 130, 0, 40)
killAuraButton.Position = UDim2.new(0, 20, 0.4, 0)
killAuraButton.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
killAuraButton.Text = "ðŸŽ¯ KillAura [OFF]"
killAuraButton.TextColor3 = Color3.fromRGB(255, 255, 255)
killAuraButton.Font = Enum.Font.GothamBold
killAuraButton.TextSize = 16
killAuraButton.BorderSizePixel = 0
killAuraButton.AutoButtonColor = false
killAuraButton.Parent = gui

local toggled = false
local ATTACK_RANGE = 20
local cps = 14
local interval = 1 / cps
local lastAttackTime = 0
local currentTarget = nil

local function animateButton(button, on, text)
	local goal = {
		BackgroundColor3 = on and Color3.fromRGB(0, 200, 0) or Color3.fromRGB(30, 30, 30),
		Size = on and UDim2.new(0, 140, 0, 45) or UDim2.new(0, 130, 0, 40),
	}
	local tween = TweenService:Create(button, TweenInfo.new(0.25), goal)
	tween:Play()
	button.Text = text
end

killAuraButton.MouseButton1Click:Connect(function()
	toggled = not toggled
	animateButton(killAuraButton, toggled, toggled and "ðŸŽ¯ KillAura [ON]" or "ðŸŽ¯ KillAura [OFF]")
end)

UIS.InputBegan:Connect(function(input, gpe)
	if gpe then return end
	if UIS:IsKeyDown(Enum.KeyCode.LeftControl) and input.KeyCode == Enum.KeyCode.LeftAlt then
		toggled = not toggled
		animateButton(killAuraButton, toggled, toggled and "ðŸŽ¯ KillAura [ON]" or "ðŸŽ¯ KillAura [OFF]")
	end
end)

local function attack()
	local tool = LocalPlayer.Character and LocalPlayer.Character:FindFirstChildOfClass("Tool")
	if tool then
		tool:Activate()
	end
end

local function rotateTo(target)
	if not Character or not Character:FindFirstChild("HumanoidRootPart") then return end
	if not target or not target:FindFirstChild("HumanoidRootPart") then return end
	local myHRP = Character.HumanoidRootPart
	local targetHRP = target.HumanoidRootPart
	local dir = (targetHRP.Position - myHRP.Position).Unit
	myHRP.CFrame = CFrame.new(myHRP.Position, myHRP.Position + dir)
end

local function findTarget()
	local nearest, minDist = nil, ATTACK_RANGE
	for _, player in pairs(Players:GetPlayers()) do
		if player ~= LocalPlayer and player.Character and player.Character:FindFirstChild("HumanoidRootPart") then
			local dist = (player.Character.HumanoidRootPart.Position - Character.HumanoidRootPart.Position).Magnitude
			local humanoid = player.Character:FindFirstChildOfClass("Humanoid")
			if dist <= minDist and humanoid and humanoid.Health > 0 then
				nearest = player.Character
				minDist = dist
			end
		end
	end
	return nearest
end

RunService.RenderStepped:Connect(function()
	if not toggled then return end
	Character = LocalPlayer.Character
	if not Character or not Character:FindFirstChild("HumanoidRootPart") then return end

	if not currentTarget or not currentTarget:FindFirstChild("HumanoidRootPart") or (currentTarget.HumanoidRootPart.Position - Character.HumanoidRootPart.Position).Magnitude > ATTACK_RANGE then
		currentTarget = findTarget()
	end

	if currentTarget then
		rotateTo(currentTarget)
		if tick() - lastAttackTime >= interval then
			lastAttackTime = tick()
			attack()
		end
	end
end)

-- Ø²Ø± Hack
local hackButton = Instance.new("TextButton")
hackButton.Size = UDim2.new(0, 130, 0, 40)
hackButton.Position = UDim2.new(0, 20, 0.4, 55)
hackButton.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
hackButton.Text = "ðŸ’» Hack [OFF]"
hackButton.TextColor3 = Color3.fromRGB(255, 255, 255)
hackButton.Font = Enum.Font.GothamBold
hackButton.TextSize = 16
hackButton.BorderSizePixel = 0
hackButton.AutoButtonColor = false
hackButton.Parent = gui

local hackEnabled = false
hackButton.MouseButton1Click:Connect(function()
	hackEnabled = not hackEnabled
	animateButton(hackButton, hackEnabled, hackEnabled and "ðŸ’» Hack [ON]" or "ðŸ’» Hack [OFF]")
end)

-- Ù…Ø«Ø§Ù„ Ø¨Ø³ÙŠØ· Ù„Ù„Ù€ Hack (ØªØ³Ø±ÙŠØ¹ Ø§Ù„Ù…Ø´ÙŠ)
local RunSpeedOriginal = 16
local RunSpeedHack = 50

RunService.Heartbeat:Connect(function()
	if hackEnabled and Character and Character:FindFirstChildOfClass("Humanoid") then
		Character:FindFirstChildOfClass("Humanoid").WalkSpeed = RunSpeedHack
	elseif Character and Character:FindFirstChildOfClass("Humanoid") then
		Character:FindFirstChildOfClass("Humanoid").WalkSpeed = RunSpeedOriginal
	end
end)
